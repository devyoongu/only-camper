<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header">
<body>
<div th:replace="fragments/bodyHeader :: bodyHeader"/>
<div class="container">
    <div class="card card-7 text-center">
        <div class="card-body">
            <form th:object="${searchCondition}" class="form-inline">
                <div class="form-group mb-2">
                    <input type="text" th:field="*{itemName}" class="formcontrol" placeholder="상품명"/>
                </div>
                <div class="form-group mx-sm-1 mb-2">
                    <select th:field="*{status}" class="form-control">
                        <option value="">상품상태</option>
                        <option th:each=
                                        "status : ${T(dev.practice.order.domain.item.Status).values()}"
                                th:value="${status}"
                                th:text="${status.description}">option
                        </option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary mb-2">검색</button>
            </form>
        </div>
    </div>

    <div class="row">
        <div class="panel panel-default">
            <div class="panel-heading" style="position: relative">
                <div class="text-left">
                    상품 리스트
                </div>
                <div th:if="${user != null}" class="text-right" style="position: absolute;right: 10px;top: 5px;">
                    <a class="btn btn-sm btn-default" role="button" href="/item/addItem">상품 등록</a>
                    <a class="btn btn-sm btn-default" role="button" href="/item">My 상품</a>
                </div>
            </div>
            <div class="panel-body" th:unless="${#lists.size(items) != 0}">
                검색결과가 없습니다.
            </div>
            <div class="panel-body" th:if="${#lists.size(items) != 0}">
                <div class="text-right">

                </div>
                <div class="col-md-3" th:each="item : ${items}">
                    <a th:href="@{/order/{itemToken}(itemToken=${item.itemToken})}">
                                <img class="lecture-images" th:src="${item.representImagePath}"
                                     src="/images/springInstroduction.png" alt="사진없음" width="200" height="200">
                        <h5 th:text="${item.itemName}" class="lecture-title">상품명</h5>
                        <p class="star_rating">
                            <span th:text="${item.itemPrice}"></span>
                        </p>
                    </a>
                </div>
            </div>
            <div class="text-center">
                <nav aria-label="Page navigation">
                    <ul class="pagination pagination-sm">
                        <li th:if="${page.isPrev()}" class="page-item">
                            <a th:href="@{?page={page}(page = ${page.getCurPage()-1})}" class="page-link"
                               href="#">Prev</a>
                        </li>
                        <li th:unless="${page.isPrev()}" class="page-item disabled">
                            <a class="page-link">Prev</a>
                        </li>
                        <li th:classappend="${ num == activeNum+1 ? 'active' : 'condition-false'}" class="page-item"
                            th:each="num, index: ${#numbers.sequence(page.getStartPage(), page.getEndPage())}">
                            <a th:href="@{?page={page}(page = ${index.current-1})}" th:text="${num}" class="page-link"
                               href="">1</a>
                        </li>
                        <li th:if="${page.isNext()}" class="page-item">
                            <a th:href="@{?page={page}(page = ${page.getCurPage()+1})}" class="page-link"
                               href="#">Next</a>
                        </li>
                        <li th:unless="${page.isNext()}" class="page-item disabled">
                            <a class="page-link">Next</a>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>
</div>
<div th:replace="fragments/footer :: footer"/>
</body>
</html>